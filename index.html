<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Formulario con Validación de Expresiones Regulares</title>
<link rel="stylesheet" href="style.css"> 
</head>
<body class="container">

        <h1 class="titulo">Practica de validaciones</h1>
        <h2 class="subtitulo">Formulario de registro</h2>
    <form action="#" method="post" class="formulario">
        <label for="nombre">Nombre de Usuario (5-15 caracteres alfanuméricos):</label>
        <input class="input" type="text" id="nombre" name="nombre" pattern="^[a-zA-Z0-9]{5,15}$" title="Debe tener entre 5 y 15 caracteres alfanuméricos" placeholder="Usuario">

        <label for="password">Contraseña (8 caracteres, 1 mayúscula, 1 minúscula, 1 número y 1 carácter especial):</label>
        <input class="input" type="password" id="password" name="password"
        pattern="^(?=.[a-z])(?=.[A-Z])(?=.\d)(?=.[!@#$%^&()_+])[A-Za-z\d!@#$%^&()_+]{8,}$"
        title="No se cumple con los requerimientos de clave"
        placeholder="Contraseña" 
        required>
        <span id="password-error" class="error-message"></span>


        <label for="email">Correo Electrónico:</label>
        <input class="input" type="email" id="email" name="email" pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$" title="Debe ser una dirección de correo electrónico válida"
        placeholder="Correo" required>

        <label for="numero">Número de Teléfono:</label>
        <input class="input" type="tel" id="numero" name="numero" pattern="^\+[0-9]{1,15}$" 
        title="Debe seguir el formato internacional, comenzando con el signo + y hasta 15 dígitos" 
        placeholder="+52 7733855315"
        required>
        
        <label for="fch">Fecha de nacimiento</label>
        <input class="input" type="date" class="input" required 
        min="1950-01-01">

        <label for="codigo">Código Postal (5 dígitos):</label>
        <input class="input" type="text" id="zipcode" name="zipcode" pattern="^\d{5}$" 
        title="Debe consistir en exactamente 5 dígitos"
        placeholder="CP"
        required>
       

        <input class="boton" type="submit" value="Enviar">
    </form>

    <script>
        document.querySelector('.formulario').addEventListener('submit', function(event) {
        var password = document.getElementById('password').value;
        var regex = /^(?=.[a-z])(?=.[A-Z])(?=.\d)(?=.[!@#$%^&()_+])[A-Za-z\d!@#$%^&()_+]{8,}$/;

        if (!regex.test(password)) {
            event.preventDefault();
            var errorMessage = "La contraseña debe tener al menos 8 caracteres incluyendo 1 mayúscula, 1 minúscula, 1 número y 1 carácter especial.";
            document.getElementById('password-error').textContent = errorMessage;
        } else {
            document.getElementById('password-error').textContent = '';
        }
    });
    </script>

</body>
</html>